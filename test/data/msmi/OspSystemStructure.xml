<?xml version="1.0" encoding="utf-8" ?>
<OspSystemStructure
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://opensimulationplatform.com/MSMI/OSPSystemStructure ../../../src/cpp/xsd/OspSystemStructure.xsd"
        xmlns="http://opensimulationplatform.com/MSMI/OSPSystemStructure">
    <StartTime>0.0</StartTime>
    <BaseStepSize>1e-4</BaseStepSize>
    <Algorithm>fixedStep</Algorithm>
    <Simulators>
        <Simulator name="CraneController" source="../ssp/demo/CraneController.fmu" stepSize="2e-4">
            <InitialValues>
                <InitialValue variable="cl1_min">
                    <Real value="2.2"/>
                </InitialValue>
                <InitialValue variable="cl1_max">
                    <Real value="3.8"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        <Simulator name="KnuckleBoomCrane" source="../ssp/demo/KnuckleBoomCrane.fmu" stepSize="2.03e-4"/>
        <Simulator name="TrueIdentity" source="../fmi1/identity.fmu" stepSize="2.03e-4">
            <InitialValues>
                <InitialValue variable="booleanIn">
                    <Boolean value="true"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
        <Simulator name="1Identity" source="../fmi1/identity.fmu" stepSize="2.03e-4">
            <InitialValues>
                <InitialValue variable="booleanIn">
                    <Boolean value="true"/>
                </InitialValue>
            </InitialValues>
        </Simulator>
    </Simulators>
    <Functions>
        <Function name="mySum" type="sum">
            <Signals>
                <Signal name="0" type="real" causality="input"/>
                <Signal name="1" type="real" causality="input"/>
                <Signal name="2" type="real" causality="input"/>
                <Signal name="sum" type="real" causality="output"/>
            </Signals>
        </Function>
    </Functions>
    <Connections>
        <VariableConnection>
            <Variable simulator="CraneController" name="p_Crane.e[1]"/>
            <Variable simulator="KnuckleBoomCrane" name="p_Crane.e[1]"/>
        </VariableConnection>

        <SignalConnection>
            <Variable simulator="KnuckleBoomCrane" name="p_Crane.f[1]"/>
            <Signal function="mySum" name="0"/>
        </SignalConnection>
        <SignalConnection>
            <Variable simulator="KnuckleBoomCrane" name="p_Crane.f[2]"/>
            <Signal function="mySum" name="1"/>
        </SignalConnection>
        <SignalConnection>
            <Variable simulator="KnuckleBoomCrane" name="p_Crane.f[3]"/>
            <Signal function="mySum" name="1"/>
        </SignalConnection>
        <SignalConnection>
            <Signal function="mySum" name="sum"/>
            <Variable simulator="CraneController" name="p_Crane.f[1]"/>
        </SignalConnection>
    </Connections>
</OspSystemStructure>
